import{s as $,N as k,Z as U,o as V,q as P,P as j,f as w,a as M,g as b,h as S,d as h,c as N,j as v,i as _,_ as Q,Q as T,R as W,S as Z}from"./scheduler.531a5046.js";import{S as q,i as C,b as I,d as y,m as D,a as d,t as g,e as E,f as z}from"./index.b564379a.js";import{C as A}from"./CommonPage.c383c7a0.js";import{p as B}from"./stores.8bd11aa5.js";import{b as F}from"./paths.0ba5426a.js";class G extends q{constructor(t){super(),C(this,t,null,null,$,{})}}function H(o){let t,a,n,l,r,u;function f(e){o[7](e)}let m={placeholder:"Search..."};o[0]!==void 0&&(m.value=o[0]),a=new G({props:m}),o[6](a),P.push(()=>z(a,"value",f));const p=o[5].default,i=j(p,o,o[8],null);return{c(){t=w("div"),I(a.$$.fragment),l=M(),r=w("div"),i&&i.c(),this.h()},l(e){t=b(e,"DIV",{class:!0});var c=S(t);y(a.$$.fragment,c),c.forEach(h),l=N(e),r=b(e,"DIV",{class:!0});var s=S(r);i&&i.l(s),s.forEach(h),this.h()},h(){v(t,"class","w-100% row"),v(r,"class","w-100% col flex-1")},m(e,c){_(e,t,c),D(a,t,null),_(e,l,c),_(e,r,c),i&&i.m(r,null),u=!0},p(e,c){const s={};!n&&c&1&&(n=!0,s.value=e[0],Q(()=>n=!1)),a.$set(s),i&&i.p&&(!u||c&256)&&T(i,p,e,e[8],u?Z(p,e[8],c,null):W(e[8]),null)},i(e){u||(d(a.$$.fragment,e),d(i,e),u=!0)},o(e){g(a.$$.fragment,e),g(i,e),u=!1},d(e){e&&(h(t),h(l),h(r)),o[6](null),E(a),i&&i.d(e)}}}function J(o){let t,a;return t=new A({props:{title:o[1],$$slots:{default:[H]},$$scope:{ctx:o}}}),{c(){I(t.$$.fragment)},l(n){y(t.$$.fragment,n)},m(n,l){D(t,n,l),a=!0},p(n,[l]){const r={};l&2&&(r.title=n[1]),l&261&&(r.$$scope={dirty:l,ctx:n}),t.$set(r)},i(n){a||(d(t.$$.fragment,n),a=!0)},o(n){g(t.$$.fragment,n),a=!1},d(n){E(t,n)}}}function K(o,t,a){let n;k(o,B,s=>a(4,n=s));let{$$slots:l={},$$scope:r}=t,{title:u="Title"}=t,{search:f=""}=t,m;const p=U();let i=!1;V(()=>{let s=new URLSearchParams(window.location.search);a(0,f=s.get("q")??""),a(3,i=!0)});function e(s){P[s?"unshift":"push"](()=>{m=s,a(2,m)})}function c(s){f=s,a(0,f)}return o.$$set=s=>{"title"in s&&a(1,u=s.title),"search"in s&&a(0,f=s.search),"$$scope"in s&&a(8,r=s.$$scope)},o.$$.update=()=>{if(o.$$.dirty&1&&p("search",{search:f.trim().toLowerCase()}),o.$$.dirty&29&&i){let s=new URLSearchParams(window.location.search);s.set("q",f);const L=`${window.location.protocol}//${window.location.host}${window.location.pathname}?${s.toString()}`,R=window.history.state;window.history.replaceState(R,"",L),n.url.pathname.startsWith(`${F}/search`)&&m&&m.focus()}},[f,u,m,i,n,l,e,c,r]}class te extends q{constructor(t){super(),C(this,t,K,J,$,{title:1,search:0})}}export{te as S};
